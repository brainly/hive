#!/bin/bash

set -e

user="hive"

function user_exists {
    getent passwd $1 || return 1 && return 0;
}

function user_delete {
    user=$1
    userdel $user
}

function user_purge {
    user=$1
    userdel -r $user
}

case "$1" in
    failed-upgrade|abort-install|abort-upgrade|disappear|upgrade)
    ;;

    remove)
    user_exists $user && {
        user_delete $user
    }
    ;;
    purge)
    user_exists $user && {
        user_purge $user
    }
    ;;
    *)
        echo "postrm called with unknown argument \`$1'" >&2
        exit 1
    ;;
esac

# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.

#DEBHELPER#

exit 0
